<!DOCTYPE html>
<html
  xmlns:ui="jakarta.faces.facelets"
  xmlns:f="jakarta.faces.core"
  xmlns:h="jakarta.faces.html"
  xmlns:mc="jakarta.faces.composite/mycomponents">
  <body>
    <ui:composition template="/templates/template.xhtml">
      <ui:define name="content">
        <mc:item key = "#{item.key}" value ="#{item.value}" actionListener="#{itemManager.save()}"/>
        <h:form id="items">
          <h:dataTable value="#{itemManager.itemList}" var="it" styleClass="table" headerClass="table-header" rowClasses="table-odd-row,table-even-row">
            <h:column>
              <f:facet name="header">Key</f:facet>
              <h:outputText value="#{it.key}"/>
            </h:column>
            <h:column>
              <f:facet name="header">Value</f:facet>
              <h:outputText value="#{it.value}"/>
            </h:column>
            <h:column>
              <f:facet name="header">Delete</f:facet>
              <h:commandButton actionListener="#{itemManager.delete(it)}" styleClass="buttons" value="Delete"/>
            </h:column>
          </h:dataTable>
        </h:form>
      </ui:define>
    </ui:composition>
  </body>
</html>